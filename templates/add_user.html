{% extends 'base.html' %}
{% block content %}
{% for message in get_flashed_messages() %}
    <div class="alert alert-warning alert-dismissible fade show" role="alert">
        {{message}}
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
{% endfor %}
    {% if name %}
        <h1>Hello {{name}}</h1>

</script>        
    {% else %}
        <h1>User List : </h1>
        <br>
        <form method = "POST">
            {{ form.hidden_tag() }}
            {{ form.name.label(class="form-label") }}
            {{ form.name(class="form-control") }}
            <br>
            {{ form.email.label(class="form-label") }}
            {{ form.email(class="form-control") }}
            <br>
            {{ form.fav_color.label(class="form-label") }}
            {{ form.fav_color(class="form-control") }}
            <br>
            {{ form.submit(class="btn btn-secondary") }}
        </form>
        <br>
        <table class="table table-striped table-hover">
            {% for our_user in our_users %}
            <tr>
                <td>{{ our_user.id }}</td> 
                <td>{{ our_user.name }}</td>
                <td>{{ our_user.email }}</td>
                <td>{{ our_user.fav_color }}</td>
                <td>{{ our_user.date_added }}</td>
                <td><a href="{{url_for('update_user', id=our_user.id)}}"><button class="btn btn-sm btn-outline-info" id={{ our_user.id }} >Update</button></a></td>
                <td><a href="{{url_for('delete_user', id=our_user.id)}}"><button class="btn btn-sm btn-outline-danger" id={{ our_user.id }} >Delete</button></a></td>                
            </tr>
            {% endfor %}
        </table>
    {% endif %}
{% endblock %}